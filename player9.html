<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>zeroX Player PRO</title>
  <style>
    body {
      margin: 0;
      background: #0a0a12;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .player-container {
      width: 100%;
      max-width: 800px;
      background: #1a1a24;
      border: 4px solid #00ff9d;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 255, 157, 0.5);
      overflow: hidden;
    }
    .brand-stripe {
      height: 50px;
      background: linear-gradient(90deg, #000, #008a4f, #000);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 20px;
      letter-spacing: 3px;
      text-transform: uppercase;
      text-shadow: 0 0 5px #00ff9d;
    }
    .media-display {
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    video, iframe {
      width: 100%;
      max-height: 400px;
      display: none;
    }
    .vu-meters {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 15px;
      background: #111;
    }
    .vu-leds {
      display: flex;
      gap: 2px;
      flex: 1;
      max-width: 360px;
      height: 10px;
      justify-content: flex-start;
      align-items: center;
      background: #000;
      padding: 3px;
      border-radius: 4px;
    }
    .vu-led {
      width: 6px;
      height: 100%;
      background: #333;
      border-radius: 2px;
      transition: background 0.1s, box-shadow 0.1s;
    }
    .url-loader {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 15px;
      background: #111;
      border-top: 1px solid #333;
    }
    .url-input {
      flex: 1;
      padding: 10px;
      background: #222;
      border: 1px solid #333;
      color: white;
      font-family: monospace;
      font-size: 12px;
      border-radius: 4px;
    }
    .load-btn {
      padding: 10px 15px;
      background: #008a4f;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 12px;
      cursor: pointer;
      text-transform: uppercase;
      border-radius: 4px;
      transition: all 0.3s;
    }
    .load-btn:hover {
      background: #00ff9d;
      color: black;
    }
  </style>
</head>
<body>
  <div class="player-container">
    <div class="brand-stripe">zeroX Player PRO</div>
    <div class="media-display">
      <video id="video" controls crossorigin="anonymous"></video>
      <iframe id="youtubeFrame" allowfullscreen frameborder="0"></iframe>
    </div>
    <div class="vu-meters">
      <div class="vu-leds" id="vuLeftLeds"></div>
      <div class="vu-leds" id="vuRightLeds"></div>
    </div>
    <div class="url-loader">
      <input type="text" id="mediaUrl" class="url-input" placeholder="YouTube arama veya URL girin">
      <button class="load-btn" id="loadBtn">Load</button>
      <button class="load-btn" id="micBtn">ðŸŽ¤ Asistan</button>
    </div>
  </div>  <script>
    const video = document.getElementById("video");
    const youtubeFrame = document.getElementById("youtubeFrame");
    const vuLeftLeds = document.getElementById("vuLeftLeds");
    const vuRightLeds = document.getElementById("vuRightLeds");
    const micBtn = document.getElementById("micBtn");

    let context, source, analyser;

    function createVuLeds(container, count = 40) {
      container.innerHTML = '';
      for (let i = 0; i < count; i++) {
        const led = document.createElement('div');
        led.className = 'vu-led';
        container.appendChild(led);
      }
    }

    function updateVuLeds(container, level, max = 40) {
      const leds = container.querySelectorAll('.vu-led');
      const active = Math.round(level * max);
      leds.forEach((led, i) => {
        if (i < active) {
          const hue = 120 - (i * 120 / max);
          led.style.background = `hsl(${hue}, 100%, 50%)`;
          led.style.boxShadow = `0 0 5px hsl(${hue}, 100%, 50%)`;
        } else {
          led.style.background = '#222';
          led.style.boxShadow = 'none';
        }
      });
    }

    function setupAudio() {
      context = new (window.AudioContext || window.webkitAudioContext)();
      source = context.createMediaElementSource(video);
      analyser = context.createAnalyser();
      source.connect(analyser);
      analyser.connect(context.destination);
      analyser.fftSize = 256;
      animateVU();
    }

    function animateVU() {
      createVuLeds(vuLeftLeds);
      createVuLeds(vuRightLeds);
      const data = new Uint8Array(analyser.frequencyBinCount);
      function draw() {
        analyser.getByteFrequencyData(data);
        const half = data.length / 2;
        const leftAvg = data.slice(0, half).reduce((a, b) => a + b, 0) / half / 255;
        const rightAvg = data.slice(half).reduce((a, b) => a + b, 0) / half / 255;
        updateVuLeds(vuLeftLeds, leftAvg);
        updateVuLeds(vuRightLeds, rightAvg);
        requestAnimationFrame(draw);
      }
      draw();
    }

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'tr-TR';
      speechSynthesis.speak(utter);
    }

    function isYouTubeUrl(url) {
      return url.includes("youtube.com/watch") || url.includes("youtu.be/");
    }

    function extractYouTubeID(url) {
      const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/;
      const match = url.match(regExp);
      return match && match[2].length === 11 ? match[2] : null;
    }

    function loadMedia(input) {
      const url = input.trim();
      if (url.includes("bul")) {
        const search = url.replace("bul", "").trim().replace(/\s+/g, "+");
        const embed = `https://www.youtube.com/embed?listType=search&list=${search}&autoplay=1`;
        youtubeFrame.src = embed;
        youtubeFrame.style.display = "block";
        video.style.display = "none";
        speak(`YouTube'da ${search.replace(/\+/g, ' ')} aranÄ±yor.`);
        return;
      }
      if (isYouTubeUrl(url)) {
        const id = extractYouTubeID(url);
        if (id) {
          youtubeFrame.src = `https://www.youtube.com/embed/${id}?autoplay=1`;
          youtubeFrame.style.display = "block";
          video.style.display = "none";
        }
      } else {
        youtubeFrame.style.display = "none";
        youtubeFrame.src = "";
        video.src = url;
        video.style.display = "block";
        video.play();
        if (!context) setupAudio();
      }
    }

    document.getElementById("loadBtn").addEventListener("click", () => {
      const input = document.getElementById("mediaUrl").value;
      loadMedia(input);
    });

    if ('webkitSpeechRecognition' in window) {
      const recognition = new webkitSpeechRecognition();
      recognition.lang = 'tr-TR';
      recognition.continuous = false;
      recognition.interimResults = false;

      recognition.onstart = () => micBtn.textContent = "ðŸŽ™ Dinleniyor...";
      recognition.onend = () => micBtn.textContent = "ðŸŽ¤ Asistan";

      recognition.onresult = (event) => {
        const command = event.results[0][0].transcript.toLowerCase();
        document.getElementById("mediaUrl").value = command;
        speak("Komut alÄ±ndÄ±: " + command);
        loadMedia(command);
      };

      micBtn.addEventListener("click", () => recognition.start());
    } else {
      micBtn.disabled = true;
      micBtn.textContent = "ðŸŽ¤ Desteklenmiyor";
    }
  </script></body>
</html>
